<?xml version="1.0" encoding="UTF-8" standalone="yes"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="791pt" style="width:1033px;height:791px;" version="1.1" viewBox="0 0 1033 791" width="1033pt"><defs><filter height="300%" id="f1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="Helvetica Neue" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="148" x="447" y="17.64">DB stack example</text><rect fill="#FEFECE" filter="url(#f1)" height="48.692" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="447.5" y="29.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61" x="452.5" y="41.294">&lt;&lt; Stack&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="14" x="476" y="57.61">db</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="448.5" x2="517.5" y1="62.166" y2="62.166"/><rect fill="#FEFECE" filter="url(#f1)" height="48.692" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="271.5" y="663.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="139" x="276.5" y="675.294">&lt;&lt; HostgroupResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="308" y="691.61">db_hostgroup</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="272.5" x2="419.5" y1="696.166" y2="696.166"/><rect fill="#FEFECE" filter="url(#f1)" height="88.412" style="stroke: #A80036; stroke-width: 1.5;" width="203" x="29.5" y="238.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="193" x="34.5" y="250.294">&lt;&lt; HostgroupParameterResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="103" y="266.61">db_api_url</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="30.5" x2="231.5" y1="271.166" y2="271.166"/><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="91" x="35.5" y="284.966">name = "db_api_url"</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="71" x="35.5" y="296.896">\# pseudo code</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="191" x="35.5" y="308.826">\# computes the url for other stacks to use</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="184" x="35.5" y="320.756">default_value = "&lt;%= compute_url() %&gt;"</text><rect fill="#FEFECE" filter="url(#f1)" height="52.622" style="stroke: #A80036; stroke-width: 1.5;" width="203" x="381.5" y="155.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="193" x="386.5" y="167.294">&lt;&lt; HostgroupParameterResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="447" y="183.61">db_password</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="382.5" x2="583.5" y1="188.166" y2="188.166"/><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="106" x="387.5" y="201.966">name = "db_password"</text><rect fill="#FEFECE" filter="url(#f1)" height="64.552" style="stroke: #A80036; stroke-width: 1.5;" width="117" x="682.5" y="373.974"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="107" x="687.5" y="385.794">&lt;&lt; HostResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="52" x="715" y="402.11">db_server</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="683.5" x2="798.5" y1="406.666" y2="406.666"/><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="35" x="688.5" y="420.466">min = 1</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="37" x="688.5" y="432.396">max = 1</text><rect fill="#FEFECE" filter="url(#f1)" height="52.622" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="266" y="533.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="150" x="271" y="545.294">&lt;&lt; PuppetClassResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="47" x="322.5" y="561.61">postgres</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="267" x2="425" y1="566.166" y2="566.166"/><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="76" x="272" y="579.966">name = postgres</text><rect fill="#FEFECE" filter="url(#f1)" height="100.342" style="stroke: #A80036; stroke-width: 1.5;" width="190" x="240" y="356.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="180" x="245" y="368.294">&lt;&lt; ParameterOverrideResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="284.5" y="384.61">password_override</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="241" x2="429" y1="389.166" y2="389.166"/><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="130" x="246" y="402.966">key = "$postgres::password"</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="68" x="246" y="414.896">\# only pseudo</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="32" x="246" y="426.826">value =</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="113" x="246" y="438.756">"&lt;%= get_param('db', "+</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="173" x="246" y="450.686">"'db_hostgroup', 'db_password') %&gt;"</text><rect fill="#FEFECE" filter="url(#f1)" height="48.692" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="872" y="157.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="142" x="877" y="169.294">&lt;&lt; PuppetRunResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="910" y="185.61">db_puppetrun</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="873" x2="1023" y1="190.166" y2="190.166"/><path d="M447.147,56.724 C336.216,63.103 6,89.754 6,180.974 C6,180.974 6,180.974 6,560.974 C6,616.2248 165.858,654.9473 266.348,673.8307 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="271.386,674.7701,263.2724,669.1871,266.4708,673.853,261.805,677.0514,271.386,674.7701" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="7" y="411.714">is composed_of</text><path d="M483,78.674 C483,98.869 483,128.034 483,150.061 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="483,155.212,487,146.212,483,150.212,479,146.212,483,155.212" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="484" y="122.214">is composed_of</text><path d="M447.455,54.743 C365.865,55.048 169.012,60.818 128,108.474 C98.9336,142.249 104.5597,194.969 114.432,233.339 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="115.785,238.417,117.3333,228.6906,114.4978,233.5855,109.6029,230.7501,115.785,238.417" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="129" y="122.214">is composed_of</text><path d="M518.619,56.66 C558.596,60.362 623.185,72.023 664,108.474 C738.968,175.426 745.254,305.04 743.377,368.565 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="743.201,373.763,747.5022,364.903,743.3696,368.7658,739.5067,364.6333,743.201,373.763" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="725" y="187.214">is composed_of</text><path d="M518.622,65.416 C541.133,73.714 569.227,87.472 587,108.474 C625.904,154.447 623.752,460.715 588,503.474 C567.897,527.517 492.552,542.153 431.208,550.311 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="426.069,550.984,435.5119,553.7826,431.0267,550.3353,434.474,545.8502,426.069,550.984" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="617" y="287.714">is composed_of</text><path d="M447.096,59.894 C396.936,68.909 307.599,93.253 268,155.474 C229.399,216.128 265.222,298.623 297.517,351.963 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="300.231,356.391,298.9381,346.6274,297.6181,352.1281,292.1174,350.808,300.231,356.391" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="269" y="187.214">is composed_of</text><path d="M518.945,59.456 C573.36,66.752 679.574,82.994 767,108.474 C810.077,121.028 857.069,140.018 892.374,155.414 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="897.057,157.465,890.4175,150.1906,892.4769,155.4593,887.2083,157.5187,897.057,157.465" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="818" y="122.214">is composed_of</text><path d="M346,586.776 C346,607.572 346,636.7934 346,658.3151 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="346,663.3344,350,654.3344,346,658.3344,342,654.3344,346,663.3344" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="347" y="630.214">will be added to</text><path d="M141.727,326.679 C158.196,387.874 193.628,501.767 248,586.474 C265.97,614.4691 292.639,641.1835 313.622,660.0234 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="317.47,663.4482,313.4062,654.4768,313.735,660.1241,308.0877,660.4529,317.47,663.4482" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="204" y="500.214">will be added to</text><path d="M489.198,208.612 C505.395,282.025 541.74,496.544 451,633.474 C443.552,644.7138 432.979,653.7123 421.385,660.8784 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="417.071,663.4365,426.8526,662.2872,421.3719,660.8865,422.7726,655.4058,417.071,663.4365" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="505" y="500.214">will be added to</text><path d="M716.764,439.336 C678.051,488.09 597.546,581.051 509,633.474 C483.546,648.544 453.308,659.9734 425.83,668.3187 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="420.733,669.8413,430.5014,671.0974,425.5237,668.4099,428.2112,663.4322,420.733,669.8413" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="633" y="565.214">provisions in</text><path d="M338.571,456.662 C340.283,480.238 342.28,507.745 343.773,528.297 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="344.141,533.365,347.48,524.0994,343.7796,528.3781,339.5009,524.6777,344.141,533.365" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="343" y="500.214">overrides in</text><path d="M925.847,206.785 C889.428,245.931 816.708,324.097 774.141,369.852 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="770.624,373.632,779.6825,369.7664,774.0294,369.9709,773.8248,364.3178,770.624,373.632" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="14" x="893" y="287.714">on</text><path d="M450.076,212.478 C442.039,220.494 433.805,229.462 427,238.474 C399.076,275.458 374.179,321.936 357.35,356.463 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="453.998,208.624,444.7745,212.0777,450.4312,212.128,450.3809,217.7846,453.998,208.624" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="428" y="287.714">uses</text><polygon fill="#DDDDDD" points="164.5,730.474,164.5,790.58,876.5,790.58,876.5,730.474,164.5,730.474" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="700" x="170.5" y="749.194">-   User edits parameters on hostgroups (created based on `ParameterResource`, stored in `GroupParameter`).</text><text fill="#000000" font-family="Helvetica Neue" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="685" x="170.5" y="765.896">-   Those parameters are applied to puppet class parameters with overrides (`ParameterOverrideResource`).</text><text fill="#000000" font-family="Helvetica Neue" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="552" x="170.5" y="782.598">-   `ParameterOverrideResource` can use only `ParameterResources` from same stack.</text></g></svg>