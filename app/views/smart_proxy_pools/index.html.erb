<% title _("Smart Proxy Pools") %>

<% title_actions new_link(_("Create Smart Proxy Pool")) %>

<%= title_actions link_to 'Back', :back, :class=>'btn btn-default' %>

<table class="<%= table_css_classes 'table-two-pane table-fixed' %>">
  <thead>
    <tr>
      <th class="col-md-4"><%= sort :name, :as => s_("Name") %></th>
      <% if authorizer.can?(:view_smart_proxies) %>
        <th><%= _("Smart Proxies") %></th>
      <% end %>
      <th class="col-md-1"><%= _('Actions') %></th>
    </tr>
  </thead>
  <tbody>
    <% @smart_proxy_pools.each do |smart_proxy_pool| %>
    <tr>
      <td class='display-two-pane ellipsis'><%= link_to_if_authorized(smart_proxy_pool.name,
                                                     hash_for_edit_smart_proxy_pool_path(:id => smart_proxy_pool).merge(:auth_object => smart_proxy_pool, :authorizer => authorizer)) %></td>
      <% if authorizer.can?(:view_smart_proxies) %>
        <td class="ellipsis"><%= smart_proxy_pool.smart_proxies.map(&:to_label).to_sentence %></td>
      <% end %>
      <td>
        <%= action_buttons(display_delete_if_authorized hash_for_smart_proxy_pool_path(:id => smart_proxy_pool).merge(:auth_object => smart_proxy_pool, :authorizer => authorizer),
          :data => { :confirm => _("Delete %s?") % smart_proxy_pool.name } ) %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>
<%= will_paginate_with_info @smart_proxy_pools %>
