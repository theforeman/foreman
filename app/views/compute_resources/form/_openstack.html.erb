<%= text_f f, :url, :label => "Authentication URL", :class => "input-xlarge", :help_block => "e.g. http://openstack:5000/v2.0/tokens" %>
<%= text_f f, :user, :label => "Access Key" %>
<%= password_f f, :password, :label => "Secret Key" %>

<% tenants = f.object.tenants rescue [] %>
<%= selectable_f(f, :tenant, tenants, {}, {:label => 'Tenant', :disabled => tenants.empty?,
                 :help_inline => link_to_function(tenants.empty? ? "Load Tenants" : "Test Connection", "testConnection(this)",
                 :class => "btn + #{tenants.empty? ? "" : "btn-success"}",
                 :'data-url' => test_connection_compute_resources_path) + image_tag('spinner.gif', :id => 'test_connection_indicator', :class => 'hide').html_safe }) %>
