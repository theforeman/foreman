<%= text_f f, :user, :label => _("Client ID") %>
<%= password_f f, :password, :label => _("API Key") %>

<% regions = f.object.regions rescue [] %>

<div id='region_selection'>
<%= select_f(f, :region, regions, :id, :name, {}, {:label => _('Default Region'), :disabled => regions.empty?,
                 :help_inline => link_to_function(regions.empty? ? _("Load Regions") : _("Test Connection"), "testConnection(this)",
                 :class => "btn + #{regions.empty? ? "btn-default" : "btn-success"}",
                 :'data-url' => test_connection_compute_resources_path) + image_tag('/assets/spinner.gif', :id => 'test_connection_indicator', :class => 'hide').html_safe }) %>
</div>

