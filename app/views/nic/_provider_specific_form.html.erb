<% if provider_partial_exist?(@host.compute_resource, 'network') %>
  <% hidden = f.object.virtual? ? "hidden" : "" %>
  <fieldset class="compute_attributes <%= hidden %>">
    <legend>
      <%= @host.compute_resource.provider_friendly_name %>
      <% if f.object.compute_attributes["from_profile"] %>
        <span class="profile">( <%= _("from profile %s") % f.object.compute_attributes["from_profile"] %> )</span>
      <% end %>
    </legend>
    <%= f.fields_for 'compute_attributes', OpenStruct.new(f.object.compute_attributes) do |f| %>
      <%= render provider_partial(@host.compute_resource, 'network'), :f => f, :disabled => f.object.persisted?, :compute_resource => @host.compute_resource, :new_host => new_host?(@host) %>
    <% end %>
  </fieldset>
<% end %>
